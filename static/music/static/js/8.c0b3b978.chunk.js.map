{"version":3,"sources":["pages/Recommend.jsx"],"names":["contentStyle","height","color","lineHeight","textAlign","background","Recommend","state","banners","personalized","newsongs","this","$http","get","then","res","setState","result","getBanner","getPersonalized","getNewSongs","className","autoplay","map","item","index","style","src","imageUrl","alt","grid","gutter","column","dataSource","renderItem","Item","onClick","props","history","push","id","picUrl","name","substr","size","actions","fontSize","Component"],"mappings":"uRAOMA,EAAe,CACjBC,OAAQ,QACRC,MAAO,OACPC,WAAY,QACZC,UAAW,SACXC,WAAY,WAGKC,E,4MACjBC,MAAQ,CACJC,QAAS,GACTC,aAAc,GACdC,SAAS,I,+CAGb,WAAa,IAAD,OACRC,KAAKC,MAAMC,IAAI,WAAWC,MAAK,SAAAC,GAC3B,EAAKC,SAAS,CAAER,QAASO,EAAIP,e,6BAIrC,WAAmB,IAAD,OACdG,KAAKC,MAAMC,IAAI,iBAAiBC,MAAK,SAAAC,GACjC,EAAKC,SAAS,CAAEP,aAAcM,EAAIE,c,yBAI1C,WAAe,IAAD,OACVN,KAAKC,MAAMC,IAAI,yBAAyBC,MAAK,SAAAC,GACzC,EAAKC,SAAS,CAAEN,SAAUK,EAAIE,c,uCAGtC,WACIN,KAAKO,YACLP,KAAKQ,kBACLR,KAAKS,gB,oBAET,WAAU,IAAD,OACL,OACI,sBAAKC,UAAU,gBAAf,UAEI,cAAC,IAAD,CAAUC,UAAQ,EAAlB,SAEQX,KAAKJ,MAAMC,QAAQe,KAAI,SAACC,EAAMC,GAC1B,OAAO,8BACH,qBAAKC,MAAO1B,EAAZ,SACI,qBAAKqB,UAAU,YAAYM,IAAKH,EAAKI,SAAUC,IAAI,QAF1CJ,QAS7B,sBAAKJ,UAAU,YAAf,UACI,0DACA,cAAC,IAAD,CACIS,KAAM,CAAEC,OAAQ,GAAIC,OAAQ,GAC5BC,WAAYtB,KAAKJ,MAAME,aACvByB,WAAY,SAAAV,GAAI,OACZ,cAAC,IAAKW,KAAN,UACI,eAAC,IAAD,CAAMC,QAAS,kBAAI,EAAKC,MAAMC,QAAQC,KAAnB,oBAAqCf,EAAKgB,MAA7D,UACI,qBAAKb,IAAKH,EAAKiB,OAAQZ,IAAI,KAC3B,+BAAKL,EAAKkB,KAAKC,OAAO,EAAG,GAAzB,oBAOpB,sBAAKtB,UAAU,YAAf,UACI,0DACA,cAAC,IAAD,CACIuB,KAAK,QACLX,WAAYtB,KAAKJ,MAAMG,SACvBwB,WAAY,SAAAV,GAAI,OAAI,cAAC,IAAKW,KAAN,CAAWC,QAAS,kBAAI,EAAKC,MAAMC,QAAQC,KAAnB,gBAAiCf,EAAKgB,MAAOK,QAAS,CAAC,cAAC,IAAD,CAAoBnB,MAAO,CAACoB,SAAS,OAApH,SAA+HtB,EAAKkB,kB,kCAM5K,WACI/B,KAAKK,SAAS,WACV,OAAO,O,GA1EoB+B","file":"static/js/8.c0b3b978.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { Carousel, List, Card } from 'antd'\r\n\r\nimport {PlayCircleOutlined} from '@ant-design/icons'\r\n\r\nimport '../assets/css/recommend.css'\r\nconst contentStyle = {\r\n    height: '160px',\r\n    color: '#fff',\r\n    lineHeight: '160px',\r\n    textAlign: 'center',\r\n    background: '#364d79',\r\n};\r\n\r\nexport default class Recommend extends Component {\r\n    state = {\r\n        banners: [],\r\n        personalized: [],\r\n        newsongs:[]\r\n    }\r\n    // 轮播图接口\r\n    getBanner() {\r\n        this.$http.get('/banner').then(res => {\r\n            this.setState({ banners: res.banners })\r\n        })\r\n    }\r\n    // 推荐歌单接口\r\n    getPersonalized() {\r\n        this.$http.get('/personalized').then(res => {\r\n            this.setState({ personalized: res.result })\r\n        })\r\n    }\r\n    // 最新音乐\r\n    getNewSongs() {\r\n        this.$http.get('/personalized/newsong').then(res => {\r\n            this.setState({ newsongs: res.result })\r\n        })\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.getBanner()\r\n        this.getPersonalized()\r\n        this.getNewSongs()\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"rec-container\">\r\n                {/* 轮播图 */}\r\n                <Carousel autoplay>\r\n                    {\r\n                        this.state.banners.map((item, index) => {\r\n                            return <div key={index}>\r\n                                <div style={contentStyle}>\r\n                                    <img className=\"bannerImg\" src={item.imageUrl} alt=\"\" />\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                    }\r\n                </Carousel>\r\n                {/* 推荐歌单 */}\r\n                <div className=\"rec-music\">\r\n                    <h3>推荐歌单</h3>\r\n                    <List\r\n                        grid={{ gutter: 16, column: 3 }}\r\n                        dataSource={this.state.personalized}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <Card onClick={()=>this.props.history.push(`/songlist/${item.id}`)}>\r\n                                    <img src={item.picUrl} alt=\"\" />\r\n                                    <h5>{item.name.substr(0, 8)}...</h5>\r\n                                </Card>\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                </div>\r\n                {/* 最新音乐 */}\r\n                <div className=\"new-music\">\r\n                    <h3>最新音乐</h3>\r\n                    <List \r\n                        size=\"large\"\r\n                        dataSource={this.state.newsongs}\r\n                        renderItem={item => <List.Item onClick={()=>this.props.history.push(`/play/${item.id}`)} actions={[<PlayCircleOutlined style={{fontSize:22}} />]}>{item.name}</List.Item>}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState=()=>{\r\n            return false\r\n        }\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}